# Kubernetes ServiceAccount 配置（配置 IRSA）
# 作者: RJ.Wang
# 邮箱: wangrenjun@gmail.com
# 创建时间: 2025-11-14
# 
# 注意：部署前需要替换 <ACCOUNT_ID> 和 <CLUSTER_NAME>
# 可以通过 Terraform 输出获取：terraform output app_role_arn

apiVersion: v1
kind: ServiceAccount
metadata:
  name: rj-webdemo-sa
  namespace: rj-webdemo
  annotations:
    # IRSA 注解 - 从 Terraform 输出获取
    eks.amazonaws.com/role-arn: arn:aws:iam::<AWS_ACCOUNT_ID>:role/RJtest-eks-cluster-202511171652-app-role
  labels:
    app: rj-webdemo
